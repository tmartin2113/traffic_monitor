# ============================================================================
# 511 Bay Area Traffic Monitor - PRODUCTION Environment Configuration
# ============================================================================
#
# DEPLOYMENT INSTRUCTIONS:
# 1. Never commit this file with real values to git
# 2. Set these variables in your hosting platform (Vercel, Netlify, etc.)
# 3. All VITE_ prefixed variables are exposed to the client
# 4. Never put server-side secrets here (use platform secrets instead)
#
# VERCEL SETUP:
# - Go to Project Settings â†’ Environment Variables
# - Add each variable below with production values
# - Set environment to "Production"
#
# ============================================================================

# ============================================================================
# REQUIRED CONFIGURATION (MUST BE SET)
# ============================================================================

# 511.org API Key (REQUIRED)
# Get from: https://511.org/open-data/token
# Set in hosting platform secrets, NOT here
VITE_511_API_KEY=

# ============================================================================
# API CONFIGURATION
# ============================================================================

VITE_API_BASE_URL=https://api.511.org
VITE_API_TIMEOUT=30000
VITE_API_MAX_RETRIES=3

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================

VITE_APP_TITLE=511 Bay Area Traffic Monitor
VITE_APP_VERSION=3.0.0
VITE_APP_DESCRIPTION=Real-time traffic monitoring for the San Francisco Bay Area
VITE_APP_ENVIRONMENT=production

# ============================================================================
# DATA REFRESH & CACHING
# ============================================================================

VITE_POLL_INTERVAL=60000
VITE_CACHE_TTL=30000
VITE_STALE_TIME=60000

# ============================================================================
# RATE LIMITING
# ============================================================================

VITE_RATE_LIMIT_MAX_REQUESTS=60
VITE_RATE_LIMIT_WINDOW=3600000
VITE_RATE_LIMIT_WARNING_THRESHOLD=10

# ============================================================================
# MAP CONFIGURATION
# ============================================================================

VITE_MAP_CENTER_LAT=37.7749
VITE_MAP_CENTER_LNG=-122.4194
VITE_MAP_DEFAULT_ZOOM=10
VITE_MAP_MIN_ZOOM=8
VITE_MAP_MAX_ZOOM=16
VITE_MAP_ENABLE_CLUSTERING=true
VITE_MAP_CLUSTER_DISTANCE=80

# ============================================================================
# GEOFENCE CONFIGURATION
# ============================================================================

VITE_GEOFENCE_XMIN=-122.57031250
VITE_GEOFENCE_YMIN=37.21559028
VITE_GEOFENCE_XMAX=-121.66525694
VITE_GEOFENCE_YMAX=37.86217361

# ============================================================================
# FEATURE FLAGS
# ============================================================================

VITE_FEATURE_OFFLINE_SUPPORT=true
VITE_FEATURE_WEBSOCKET=false
VITE_FEATURE_ANALYTICS=true
VITE_FEATURE_DEBUG_MODE=false

# ============================================================================
# ANALYTICS & MONITORING (OPTIONAL)
# ============================================================================

# Google Analytics (Optional)
# Uncomment and set in hosting platform if using
# VITE_GA_TRACKING_ID=

# Sentry Error Tracking (Optional)
# Uncomment and set in hosting platform if using
# VITE_SENTRY_DSN=
# VITE_SENTRY_ENVIRONMENT=production
# VITE_SENTRY_TRACES_SAMPLE_RATE=0.1

# Datadog RUM (Optional)
# VITE_DATADOG_APPLICATION_ID=
# VITE_DATADOG_CLIENT_TOKEN=
# VITE_DATADOG_SITE=datadoghq.com
# VITE_DATADOG_SERVICE=511-traffic-monitor
# VITE_DATADOG_ENV=production

# New Relic Browser (Optional)
# VITE_NEW_RELIC_ACCOUNT_ID=
# VITE_NEW_RELIC_TRUST_KEY=
# VITE_NEW_RELIC_AGENT_ID=
# VITE_NEW_RELIC_LICENSE_KEY=
# VITE_NEW_RELIC_APPLICATION_ID=

# ============================================================================
# BUILD CONFIGURATION
# ============================================================================

VITE_BUILD_SOURCEMAP=false
VITE_BUILD_MINIFY=true
VITE_BUILD_OUTPUT_DIR=dist
VITE_BUILD_ASSET_INLINE_LIMIT=4096

# ============================================================================
# BUILD METADATA (Auto-populated by CI/CD)
# ============================================================================

# These are typically set automatically by your CI/CD pipeline
# VITE_BUILD_TIME=
# VITE_COMMIT_SHA=
# VITE_BRANCH=
# VITE_BUILD_NUMBER=

# ============================================================================
# SECURITY NOTES
# ============================================================================

# 1. NEVER commit this file with real API keys
# 2. Use your hosting platform's environment variable UI to set values
# 3. Enable "Sensitive" flag for VITE_511_API_KEY in hosting platform
# 4. Rotate API keys if accidentally committed
# 5. Use different API keys for dev/staging/production
# 6. Monitor API usage in 511.org dashboard

# ============================================================================
# VERCEL DEPLOYMENT CHECKLIST
# ============================================================================

# [ ] Set VITE_511_API_KEY in Vercel dashboard
# [ ] Verify all other variables match defaults above
# [ ] Set Environment to "Production"
# [ ] Deploy and test
# [ ] Verify API key works in production
# [ ] Check rate limiting in UI
# [ ] Monitor Vercel Functions logs

# ============================================================================
# VALIDATION
# ============================================================================

# After deployment, verify environment variables loaded correctly:
# 1. Open browser console on deployed site
# 2. Check for any "Invalid environment configuration" errors
# 3. Verify map loads and events appear
# 4. Check rate limit indicator in footer

# Test API key works:
# curl "https://api.511.org/traffic/events?api_key=YOUR_PRODUCTION_KEY&limit=1"

# Expected response: {"events":[...]}
# Error 401: Invalid API key
# Error 429: Rate limit exceeded
